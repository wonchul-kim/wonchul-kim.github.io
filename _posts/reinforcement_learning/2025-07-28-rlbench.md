---
layout: post
title: RLBench
category: Reinforcement Learning
tag: [envs, rlbench]
---

# [RLBench](https://github.com/stepjam/RLBench)

## How to install

1. Install **CoppeliaSim**

* `~/.bashrc`에 아래 내용 추가 후 적용

    ```bash
    export COPPELIASIM_ROOT=${HOME}/CoppeliaSim
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$COPPELIASIM_ROOT
    export QT_QPA_PLATFORM_PLUGIN_PATH=$COPPELIASIM_ROOT
    ```

* Install

    ```bash
    wget https://downloads.coppeliarobotics.com/V4_1_0/CoppeliaSim_Edu_V4_1_0_Ubuntu20_04.tar.xz
    mkdir -p $COPPELIASIM_ROOT && tar -xf CoppeliaSim_Edu_V4_1_0_Ubuntu20_04.tar.xz -C $COPPELIASIM_ROOT --strip-components 1
    rm -rf CoppeliaSim_Edu_V4_1_0_Ubuntu20_04.tar.xz
    ```


> Make sure that `COPPELIASIM_ROOT` is correct!!!

2. Install **RLBench**

```bash
pip install git+https://github.com/stepjam/RLBench.git
```


## Trouble shooting

> `qt.qpa.plugin: Could not load the Qt platform plugin "xcb" in "/root/CoppeliaSim" even though it was found. This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.`
> `Available platform plugins are: eglfs, linuxfb, minimal, minimalegl, offscreen, vnc, webgl, xcb.`

#### 모니터가 있는 경우

```bash
apt-get update
apt-get install -y qt5-default libxcb-xinerama0-dev
```

Plus, optionally,
```bash
apt-get install qtbase5-dev qtchooser qt5-qmake qtbase5-dev-tools
```

#### 모니터가 없는 경우로 Headless 환경에서 GUI 코드 실행 시 (예: 서버, Docker 등)

* Xvfb (X virtual framebuffer)를 사용

```bash
apt install xvfb
Xvfb :1 -screen 0 1024x768x16 &
export DISPLAY=:1.0
```